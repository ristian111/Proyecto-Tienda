{
  "openapi": "3.0.0",
  "info": {
    "title": "API Tienda",
    "description": "API RESTful para gestionar Categorías, Clientes, Inventarios, Productos, Usuarios, Pedidos, Detalles, Facturas y Reportes de una tienda utilizando API Key y JWT.",
    "version": "1.1.0"
  },
  "components": {
    "securitySchemes": {
      "ApiKeyAuth": {
        "type": "apiKey",
        "in": "header",
        "name": "Authorization"
      },
      "BearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      }
    }
  },
  "servers": [
    {
      "url": "http://127.0.0.1:5000"
    }
  ],
  "tags":[
    {
    "name": "Categorías",
    "description": "Todo sobre la gestión de Categorías"
    },
    {
    "name": "Clientes",
    "description": "Todo sobre la gestión de Clientes"
    },
    {
    "name": "Productos",
    "description": "Todo sobre la gestión de Productos"
    },
    {
    "name": "Inventarios",
    "description": "Todo sobre la gestión de Inventarios"
    },
    {
    "name": "Pedidos",
    "description": "Todo sobre la gestión de Pedidos"
    },
    {
    "name": "Detalles",
    "description": "Todo sobre los detalles de pedidos"
    },
    {
    "name": "Facturas",
    "description": "Todo sobre la gestión de Facturas"
    },
    {
    "name": "Usuarios",
    "description": "Todo sobre la gestión de Usuarios"
    },
    {
    "name": "Autenticación",
    "description": "Valida credenciales del usuario"
    },
    {
    "name": "Reportes",
    "description": "Todo sobre los reportes generados de la tienda"
    }
  ],
  "security": [
    {
      "ApiKeyAuth": [],
      "BearerAuth": []
    }
  ],
  
  "paths": {
    "/categorias": {
      "get": {
        "tags":["Categorías"],
        "summary": "Listar todos las categorías",
        "description":"Este endpoint permite obtener un listado completo de las categorías registrados en el sistema. La respuesta incluye información básica como nombre, descripción y referencia de cada categoría.",
        "responses": {
          "200": {
            "description": "Respuesta exitosa que contiene la lista de categorías.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "nombre": { "type": "string" },
                      "descripcion": { "type": "string" },
                      "referencia": { "type": "string" }
                    },
                    "example": 
                      {
                        "nombre": "Alimentos por lb",
                        "descripcion": "Destinado a productos que se venden por libras",
                        "referencia": "5a0a22fa-83b9-45b8-b37d-bbe5b45b7838"
                      }                      
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error del servidor",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "mensaje": "Error interno del servidor"
                  }
                }
              }
            }
          }
        }
      },

      "post": {
        "tags":["Categorías"],
        "summary": "Registrar una nueva categoría",
        "description": "Este endpoint permite registrar una nueva categoría en el sistema. Requiere enviar un objeto JSON con los datos de la categoría como nombre y decripción.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["nombre", "descripcion"],
                "properties": {
                  "nombre": { "type": "string" },
                  "descripcion": { "type": "string" }
                },
                "example": {
                  "nombre": "Alimentos por lb",
                  "descripcion": "Destinado a productos que se venden por libras"
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Devuelve un mensaje de confirmación indicando que la categoría fue registrada correctamente.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "mensaje": "Categoría registrada exitosamente"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Error de validación de datos",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "mensaje": "Datos inválidos en la solicitud"
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error del servidor",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "errorGenerico": {
                      "summary": "Error inesperado",
                      "value": { "mensaje": "Error interno del servidor" }
                    },
                    "errorBaseDatos": {
                      "summary": "Error de conexión",
                      "value": { "mensaje": "Error al registrar categoría" }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/categorias/{ref}": {
      "put": {
        "tags":["Categorías"],
        "summary": "Editar categoría existente",
        "parameters": [
          {
            "name": "ref",
            "in": "path",
            "required": true,
            "schema": { "type": "string" }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["nombre", "descripcion"],
                "properties": {
                  "nombre": { "type": "string" },
                  "descripcion": { "type": "string" }
                },
                "example": {
                  "nombre": "Alimentos por lb",
                  "descripcion": "Destinado a productos que se venden por libras"
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Devuelve un mensaje de confirmación indicando que la categoría fue editada correctamente del sistema.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "mensaje": "Categoría actualizada exitosamente"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Error de validación de datos",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "mensaje": "Datos inválidos en la solicitud"
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error del servidor",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "errorGenerico": {
                      "summary": "Error inesperado",
                      "value": { "mensaje": "Error interno del servidor" }
                    },
                    "errorBaseDatos": {
                      "summary": "Error de conexión",
                      "value": { "mensaje": "Error al actualizar categoría" }
                    }
                  }
                }
              }
            }
          }
        }
      },

      "delete": {
        "tags":["Categorías"],
        "summary": "Eliminar una categoría por referencia",
        "description":"Este endpoint permite eliminar una categoría del sistema utilizando su identificador único (ref). Si la referencia proporcionada es válida y corresponde a una categoría existente, se eliminará de forma permanente.",
        "parameters": [
          {
            "name": "ref",
            "in": "path",
            "required": true,
            "schema": { "type": "string" }
          }
        ],
        "responses": {
          "200": {
            "description": "Devuelve un mensaje de confirmación indicando que la categoría fue eliminada correctamente del sistema.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "mensaje": "Categoría eliminada exitosamente"
                  }
                }
              }
            }
          },
          "404": {
            "description": "No existe el recurso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "mensaje": "La categoría no existe"
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error del servidor",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "errorGenerico": {
                      "summary": "Error inesperado",
                      "value": { "mensaje": "Error interno del servidor" }
                    },
                    "errorBaseDatos": {
                      "summary": "Error de conexión",
                      "value": { "mensaje": "Error al eliminar categoría" }
                    }
                  }
                }
              }
            }
          }
        }
      }     
    },
    "/clientes": {
      "get": {
        "tags":["Clientes"],
        "summary": "Listar todos los clientes",
        "description":"Este endpoint permite obtener un listado completo de los clientes registrados en el sistema. La respuesta incluye información básica como nombre, teléfono, dirección y referencia de cada cliente.",
        "responses": {
          "200": {
            "description": "Respuesta exitosa que contiene la lista de clientes.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "nombre": { "type": "string" },
                      "teléfono": { "type": "string" },
                      "dirección": { "type": "string" },
                      "referencia": { "type": "string" }
                    },
                    "example": 
                      {
                        "nombre": "Pedro",
                        "teléfono": "3048831247",
                        "dirección": "Cra 45 #12-65",
                        "referencia": "9a0a22ba-83b9-45b8-b37d-bbe5b45b7562"
                      }                      
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error del servidor",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "mensaje": "Error interno del servidor"
                  }
                }
              }
            }
          }
        }
      },

      "post": {
        "tags":["Clientes"],
        "summary": "Registrar un nuevo cliente",
        "description": "Este endpoint permite registrar un nuevo cliente en el sistema. Requiere enviar un objeto JSON con los datos del cliente como nombre, teléfono y dirección",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["nombre", "telefono", "direccion"],
                "properties": {
                  "nombre": { "type": "string" },
                  "telefono": { "type": "string" },
                  "direccion": { "type": "string" }
                },
                "example": {
                  "nombre": "Pedro",
                  "telefono": "3048831247",
                  "direccion": "Cra 45 #12-65"
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Devuelve un mensaje de confirmación indicando que el cliente fue registrado correctamente.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "mensaje": "Cliente registrado exitosamente"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Error de validación de datos",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "mensaje": "Datos inválidos en la solicitud"
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error del servidor",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "errorGenerico": {
                      "summary": "Error inesperado",
                      "value": { "mensaje": "Error interno del servidor" }
                    },
                    "errorBaseDatos": {
                      "summary": "Error de conexión",
                      "value": { "mensaje": "Error al registrar cliente" }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/clientes/{ref}": {
      "put": {
        "tags":["Clientes"],
        "summary": "Editar cliente existente",
        "parameters": [
          {
            "name": "ref",
            "in": "path",
            "required": true,
            "schema": { "type": "string" }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["nombre", "telefono", "direccion"],
                "properties": {
                  "nombre": { "type": "string" },
                  "telefono": { "type": "string" },
                  "direccion": { "type": "string" }
                },
                "example": {
                  "nombre": "Pedro",
                  "telefono": "3048831247",
                  "direccion": "Cra 45 #12-65"
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Devuelve un mensaje de confirmación indicando que el cliente fue editado correctamente del sistema.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "mensaje": "Cliente actualizado exitosamente"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Error de validación de datos",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "mensaje": "Datos inválidos en la solicitud"
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error del servidor",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "errorGenerico": {
                      "summary": "Error inesperado",
                      "value": { "mensaje": "Error interno del servidor" }
                    },
                    "errorBaseDatos": {
                      "summary": "Error de conexión",
                      "value": { "mensaje": "Error al actualizar cliente" }
                    }
                  }
                }
              }
            }
          }
        }
      },

      "delete": {
        "tags":["Clientes"],
        "summary": "Eliminar un cliente por referencia",
        "description":"Este endpoint permite eliminar un cliente del sistema utilizando su identificador único (ref). Si la referencia proporcionada es válida y corresponde a un cliente existente, se eliminará de forma permanente.",
        "parameters": [
          {
            "name": "ref",
            "in": "path",
            "required": true,
            "schema": { "type": "string" }
          }
        ],
        "responses": {
          "200": {
            "description": "Devuelve un mensaje de confirmación indicando que el cliente fue eliminado correctamente del sistema.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "mensaje": "Cliente eliminado exitosamente"
                  }
                }
              }
            }
          },
          "404": {
            "description": "No existe el recurso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "mensaje": "El cliente no existe"
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error del servidor",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "errorGenerico": {
                      "summary": "Error inesperado",
                      "value": { "mensaje": "Error interno del servidor" }
                    },
                    "errorBaseDatos": {
                      "summary": "Error de conexión",
                      "value": { "mensaje": "Error al eliminar cliente" }
                    }
                  }
                }
              }
            }
          }
        }
      }     
    },
    "/productos": {
      "get": {
        "tags":["Productos"],
        "summary": "Listar todos los productos",
        "description":"Este endpoint permite obtener un listado completo de los productos registrados en el sistema. La respuesta incluye información básica como nombre, precio de venta, precio de compra, unidad por medida, referencia de cada categoria y referencia de cada producto.",
        "responses": {
          "200": {
            "description": "Respuesta exitosa que contiene la lista de productos.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "nombre": { "type": "string" },
                      "precio_venta": { "type": "float" },
                      "precio_compra": { "type": "float" },
                      "unidad_medida": { "type": "string" },
                      "ref_categoria": { "type": "integer" },
                      "referencia": { "type": "string" }
                    },
                    "example": 
                      {
                        "nombre": "Arroz",
                        "precio_venta": 7500,
                        "precio_compra": 5000,
                        "unidad_medida": "1 lb",
                        "ref_categoria": "3a0a22fa-83b9-45b8-b37d-bbe5b45b7838",
                        "referencia": "5a0f22ba-83b9-45b8-b37d-bbe5b45b7838"
                      }                      
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error del servidor",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "mensaje": "Error interno del servidor"
                  }
                }
              }
            }
          }
        }
      },

      "post": {
        "tags":["Productos"],
        "summary": "Registrar un nuevo producto",
        "description": "Este endpoint permite registrar un nuevo producto en el sistema. Requiere enviar un objeto JSON con los datos del producto como nombre, precio de venta, precio de compra, unidad por medida y referencia de la categoria.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["nombre", "precio_venta", "precio_compra", "unidad_medida", "ref_categoria"],
                "properties": {
                  "nombre": { "type": "string" },
                  "precio_venta": { "type": "float" },
                  "precio_compra": { "type": "float" },
                  "unidad_medida": { "type": "string" },
                  "ref_categoria": { "type": "string" }
                },
                "example": 
                  {
                    "nombre": "Arroz",
                    "precio_venta": 7500,
                    "precio_compra": 5000,
                    "unidad_medida": "1 lb",
                    "ref_categoria": ""
                }     
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Devuelve un mensaje de confirmación indicando que el producto fue registrado correctamente.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "mensaje": "Producto registrado exitosamente"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Error de validación de datos",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "mensaje": "Datos inválidos en la solicitud"
                  }
                }
              }
            }
          },
          "404": {
            "description": "No existe el recurso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "mensaje": "La categoria no existe" 
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error del servidor",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "errorGenerico": {
                      "summary": "Error inesperado",
                      "value": { "mensaje": "Error interno del servidor" }
                    },
                    "errorBaseDatos": {
                      "summary": "Error de conexión",
                      "value": { "mensaje": "Error al registrar producto" }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/productos/{ref}": {
      "put": {
        "tags":["Productos"],
        "summary": "Editar producto existente",
        "parameters": [
          {
            "name": "ref",
            "in": "path",
            "required": true,
            "schema": { "type": "string" }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["nombre", "precio_venta", "precio_compra", "unidad_medida", "ref_categoria"],
                "properties": {
                  "nombre": { "type": "string" },
                  "precio_venta": { "type": "float" },
                  "precio_compra": { "type": "float" },
                  "unidad_medida": { "type": "string" },
                  "ref_categoria": { "type": "string" }
                },
                "example": 
                  {
                    "nombre": "Arroz",
                    "precio_venta": 7500,
                    "precio_compra": 5000,
                    "unidad_medida": "1 lb",
                    "ref_categoria": ""
                  }     
                }
              }
            }
          },
        "responses": {
          "200": {
            "description": "Devuelve un mensaje de confirmación indicando que el producto fue editado correctamente del sistema.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "mensaje": "Producto actualizado exitosamente"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Error de validación de datos",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "mensaje": "Datos inválidos en la solicitud"
                  }
                }
              }
            }
          },
          "404": {
            "description": "No existe el recurso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "mensaje": "La categoria no existe" 
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error del servidor",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "errorGenerico": {
                      "summary": "Error inesperado",
                      "value": { "mensaje": "Error interno del servidor" }
                    },
                    "errorBaseDatos": {
                      "summary": "Error de conexión",
                      "value": { "mensaje": "Error al actualizar producto" }
                    }
                  }
                }
              }
            }
          }
        }
      },

      "delete": {
        "tags":["Productos"],
        "summary": "Eliminar un producto por referencia",
        "description":"Este endpoint permite eliminar un producto del sistema utilizando su identificador único (ref). Si la referencia proporcionada es válida y corresponde a un producto existente, se eliminará de forma permanente.",
        "parameters": [
          {
            "name": "ref",
            "in": "path",
            "required": true,
            "schema": { "type": "string" }
          }
        ],
        "responses": {
          "200": {
            "description": "Devuelve un mensaje de confirmación indicando que el producto fue eliminado correctamente del sistema.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "mensaje": "Producto eliminado exitosamente"
                  }
                }
              }
            }
          },
          "404": {
            "description": "No existe el recurso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "mensaje": "El producto no existe"
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error del servidor",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "errorGenerico": {
                      "summary": "Error inesperado",
                      "value": { "mensaje": "Error interno del servidor" }
                    },
                    "errorBaseDatos": {
                      "summary": "Error de conexión",
                      "value": { "mensaje": "Error al eliminar producto" }
                    }
                  }
                }
              }
            }
          }
        }
      }     
    },
    "/inventarios": {
      "get": {
        "tags":["Inventarios"],
        "summary": "Listar todos los inventarios",
        "description":"Este endpoint permite obtener un listado completo de los inventarios registrados en el sistema. La respuesta incluye información básica como producto_id, cantidad_actual, cantidad_reservada, punto_reorden, ultima_actualización y referencia de cada inventario.",
        "responses": {
          "200": {
            "description": "Respuesta exitosa que contiene la lista de inventarios.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "ref_producto": { "type": "string" },
                      "cantidad_actual": { "type": "integer" },
                      "cantidad_reservada": { "type": "integer" },
                      "punto_reorden": { "type": "integer" },
                      "ultima_actualización": { "type": "string" },
                      "referencia": { "type": "string" }
                    },
                    "example": 
                      {
                        "ref_producto": "3a0f22ba-83b9-45b8-b37d-bbe5b45b7838",
                        "cantidad_actual": 20,
                        "cantidad_reservada": 4,
                        "punto_reorden": 7,
                        "ultima_actualización": "2025-12-18 17:30:28",
                        "referencia": "7a0g22ba-83b9-45b8-b37d-bbe5b45b7838"
                    }                      
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error del servidor",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "mensaje": "Error interno del servidor"
                  }
                }
              }
            }
          }
        }
      },

      "post": {
        "security": [
          { "BearerAuth": [] }
        ],
        "tags":["Inventarios"],
        "summary": "Registrar un nuevo inventario",
        "description": "Este endpoint permite registrar un nuevo inventario en el sistema. Requiere enviar un objeto JSON con los datos del inventario como producto_id, cantidad_actual, cantidad_reservada y punto_reorden.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["ref_producto", "cantidad_actual", "cantidad_reservada", "punto_reorden"],
                "properties": {
                  "ref_producto": { "type": "string" },
                  "cantidad_actual": { "type": "integer" },
                  "cantidad_reservada": { "type": "integer" },
                  "punto_reorden": { "type": "integer" }
                },
                "example": 
                  {
                    "ref_producto": "",
                    "cantidad_actual": 20,
                    "cantidad_reservada": 4,
                    "punto_reorden": 7
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Devuelve un mensaje de confirmación indicando que el inventario fue registrado correctamente.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "mensaje": "Inventario registrado exitoxamente"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Error de validación de datos",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "mensaje": "Datos inválidos en la solicitud"
                  }
                }
              }
            }
          },
          "404": {
            "description": "No existe el recurso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "mensaje": "El producto no existe" 
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error del servidor",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "errorGenerico": {
                      "summary": "Error inesperado",
                      "value": { "mensaje": "Error interno del servidor" }
                    },
                    "errorBaseDatos": {
                      "summary": "Error de conexión",
                      "value": { "mensaje": "Error al registrar inventario" }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/inventarios/{ref}": {
      "put": {
        "tags":["Inventarios"],
        "summary": "Editar inventario existente",
        "parameters": [
          {
            "name": "ref",
            "in": "path",
            "required": true,
            "schema": { "type": "string" }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["ref_producto", "cantidad_actual", "cantidad_reservada", "punto_reorden"],
                "properties": {
                  "ref_producto": { "type": "string" },
                  "cantidad_actual": { "type": "integer" },
                  "cantidad_reservada": { "type": "integer" },
                  "punto_reorden": { "type": "integer" }
                },
                "example": 
                  {
                    "ref_producto": "",
                    "cantidad_actual": 20,
                    "cantidad_reservada": 4,
                    "punto_reorden": 7
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Devuelve un mensaje de confirmación indicando que el inventario fue editado correctamente del sistema.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "mensaje": "Inventario actualizado exitosamente"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Error de validación de datos",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "mensaje": "Datos inválidos en la solicitud"
                  }
                }
              }
            }
          },
          "404": {
            "description": "No existe el recurso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "mensaje": "El producto no existe" 
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error del servidor",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "errorGenerico": {
                      "summary": "Error inesperado",
                      "value": { "mensaje": "Error interno del servidor" }
                    },
                    "errorBaseDatos": {
                      "summary": "Error de conexión",
                      "value": { "mensaje": "Error al actualizar inventario" }
                    }
                  }
                }
              }
            }
          }
        }
      },

      "delete": {
        "tags":["Inventarios"],
        "summary": "Eliminar un inventario por referencia",
        "description":"Este endpoint permite eliminar un inventario del sistema utilizando su identificador único (ref). Si la referencia proporcionada es válida y corresponde a un inventario existente, se eliminará de forma permanente.",
        "parameters": [
          {
            "name": "ref",
            "in": "path",
            "required": true,
            "schema": { "type": "string" }
          }
        ],
        "responses": {
          "200": {
            "description": "Devuelve un mensaje de confirmación indicando que el inventario fue eliminado correctamente del sistema.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "mensaje": "Inventario eliminado exitosamente"
                  }
                }
              }
            }
          },
          "404": {
            "description": "No existe el recurso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "mensaje": "El inventario no existe"
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error del servidor",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "errorGenerico": {
                      "summary": "Error inesperado",
                      "value": { "mensaje": "Error interno del servidor" }
                    },
                    "errorBaseDatos": {
                      "summary": "Error de conexión",
                      "value": { "mensaje": "Error al eliminar inventario" }
                    }
                  }
                }
              }
            }
          }
        }
      }     
    },
    "/inventarios/stock-bajo": {
      "get": {
        "tags":["Inventarios"],
        "summary": "Lista los productos con stock bajo",
        "description":"Este endpoint permite obtener un listado completo de los productos con stock bajo en el sistema. La respuesta incluye información básica como producto, inventario_actual, cantidad_reservada y punto_reorden.",
        "parameters":[
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "description": "Indica el número de productos que listar con stock bajo",
            "schema": {
              "type": "integer",
              "default": 1
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Respuesta exitosa que contiene la lista de los productos con stock bajo.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "mensaje": { "type": "string" },
                      "Stock producto": { "type": "string" }
                    },
                    "example": 
                      {
                        "mensaje": "Producto encontrado exitosamente",
                        "Stock producto": {
                          "producto": "Arroz",
                          "inventario_actual": 20,
                          "cantidad_reservada": 4,
                          "punto_reorden": 7
                      } 
                    }                      
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error del servidor",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "errorGenerico": {
                      "summary": "Error inesperado",
                      "value": { "mensaje": "Error interno del servidor" }
                    },
                    "errorBaseDatos": {
                      "summary": "Error de conexión",
                      "value": { "mensaje": "Error al buscar producto" }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/inventarios/{prod}/productos": {
      "get": {
        "tags":["Inventarios"],
        "summary": "Lista el stock del producto",
        "description":"Este endpoint permite obtener un listado completo del stock del producto en el sistema. La respuesta incluye información básica como producto, inventario_actual, cantidad_reservada, punto_reorden y ultima_modificación.",
        "parameters": [
          {
            "name": "prod",
            "in": "path",
            "required": true,
            "schema": { "type": "string" }
          }
        ],
        "responses": {
          "200": {
            "description": "Respuesta exitosa que contiene la lista del stock del producto.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "mensaje": { "type": "string" },
                      "Stock producto": { "type": "string" }
                    },
                    "example": 
                      {
                        "mensaje": "Producto encontrado exitosamente",
                        "Stock producto": {
                          "producto": "Arroz",
                          "inventario_actual": 20,
                          "cantidad_reservada": 4,
                          "punto_reorden": 7,
                          "ultima_modificación": "2025-12-18 17:30:28"
                      } 
                    }                      
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error del servidor",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "errorGenerico": {
                      "summary": "Error inesperado",
                      "value": { "mensaje": "Error interno del servidor" }
                    },
                    "errorBaseDatos": {
                      "summary": "Error de conexión",
                      "value": { "mensaje": "Error al buscar producto" }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/inventarios/movimiento-inventario": {
      "get": {
        "tags":["Inventarios"],
        "summary": "Lista los movimiento del inventario",
        "description":"Este endpoint permite obtener un listado completo de los movimiento del inventario, como los cambios registrados hechos por acciones INSERT, UPDATE Y DELETE en la tabla inventarios, además de registrar la referenica del usuario que hizo los cambios y la hora del cambio. La respuesta incluye información básica como cantidad_actual_ant, cantidad_reservada_ant, punto_reorden_ant, cantidad_actual_nue, cantidad_reservada_nue, punto_reorden_nue, accion, fecha_hora y referencia del usuario.",
        "responses": {
          "200": {
            "description": "Respuesta exitosa que contiene la lista de los movimiento del inventario registrados.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "cantidad_actual_ant": { "type": "integer" },
                      "cantidad_reservada_ant": { "type": "integer" },
                      "punto_reorden_ant": { "type": "integer" },
                      "cantidad_actual_nue": { "type": "integer" },
                      "cantidad_reservada_nue": { "type": "integer" },
                      "punto_reorden_nue": { "type": "integer" },
                      "accion": { "type": "string" },
                      "fecha_hora": { "type": "string", "format": "date-time" },
                      "ref_usuario": { "type": "integer" }
                    },
                    "example": {
                      "cantidad_actual_ant": 20,
                      "cantidad_reservada_ant": 4,
                      "punto_reorden_ant": 7,
                      "cantidad_actual_nue": 15,
                      "cantidad_reservada_nue": 9,
                      "punto_reorden_nue": 7,
                      "accion": "UPDATE",
                      "fecha_hora": "2025-12-18 17:30:28",
                      "ref_usuario": "5m0k53ba-83b9-45b8-b37d-bbe5b45b98461"
                    }                      
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error del servidor",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "mensaje": "Error interno del servidor"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/pedidos": {
      "get": {
        "tags":["Pedidos"],
        "summary": "Listar todos los pedidos",
        "description":"Este endpoint permite obtener un listado completo de los pedidos registrados en el sistema. La respuesta incluye información básica como ref_cliente, ref_usuario, estado, total, direccion_entrega, fecha_hora y referencia de cada pedido.",
        "responses": {
          "200": {
            "description": "Respuesta exitosa que contiene la lista de pedidos.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "ref_cliente": { "type": "string" },
                      "ref_usuario": { "type": "string" },
                      "estado": { "type": "string" },
                      "total": { "type": "float" },
                      "direccion_entrega": { "type": "string" },
                      "fecha_hora": { "type": "string" },
                      "referencia": { "type": "string" }
                    },
                    "example": 
                      {
                        "ref_cliente": "4a0s65ba-83b9-45b8-b37d-bbe5b45b93753",
                        "ref_usuario": "5m0k53ba-83b9-45b8-b37d-bbe5b45b98461",
                        "estado": "pendiente",
                        "total": 35500,
                        "direccion_entrega": "Cra 10b #54 - 103",
                        "fecha_hora": "2025-12-18 17:30:28",
                        "referencia": "1b0m83ba-83b9-45b8-b37d-bbe5b45b8476"
                    }                      
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error del servidor",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "mensaje": "Error interno del servidor"
                  }
                }
              }
            }
          }
        }
      },

      "post": {
        "tags":["Pedidos"],
        "summary": "Registrar un nuevo pedido",
        "description": "Este endpoint permite registrar un nuevo pedido en el sistema. Requiere enviar un objeto JSON con los datos del pedido como ref_cliente, ref_usuario, estado, total y direccion_entrega.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["ref_cliente", "ref_usuario", "estado", "total", "direccion_entrega"],
                "properties": {
                  "ref_cliente": { "type": "string" },
                  "ref_usuario": { "type": "string" },
                  "estado": { "type": "string" },
                  "total": { "type": "float" },
                  "direccion_entrega": { "type": "string" }
                },
                "example": 
                  {
                    "ref_cliente": "",
                    "ref_usuario": "",
                    "estado": "pendiente",
                    "total": 27500,
                    "direccion_entrega": "Cra 10b #54 - 103"
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Devuelve un mensaje de confirmación indicando que el pedido fue registrado correctamente.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "mensaje": "Pedido registrado exitosamente"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Error de validación de datos",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "mensaje": "Datos inválidos en la solicitud"
                  }
                }
              }
            }
          },
          "404": {
            "description": "No existe el recurso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "clienteNoExiste": {
                      "summary": "No existe el recurso cliente",
                      "value": { "mensaje": "El cliente no existe" }
                  },
                  "usuarioNoExiste": {
                    "summary": "No existe el recurso usuario",
                    "value": { "mensaje": "El usuario no existe" }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error del servidor",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "errorGenerico": {
                      "summary": "Error inesperado",
                      "value": { "mensaje": "Error interno del servidor" }
                    },
                    "errorBaseDatos": {
                      "summary": "Error de conexión",
                      "value": { "mensaje": "Error al registrar pedido" }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/pedidos/{ref}": {
      "put": {
        "tags":["Pedidos"],
        "summary": "Editar pedido existente",
        "parameters": [
          {
            "name": "ref",
            "in": "path",
            "required": true,
            "schema": { "type": "string" }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["ref_cliente", "ref_usuario", "estado", "total", "direccion_entrega"],
                "properties": {
                  "ref_cliente": { "type": "string" },
                  "ref_usuario": { "type": "string" },
                  "estado": { "type": "string" },
                  "total": { "type": "float" },
                  "direccion_entrega": { "type": "string" }
                },
                "example": 
                  {
                    "ref_cliente": "",
                    "ref_usuario": "",
                    "estado": "pendiente",
                    "total": 27500,
                    "direccion_entrega": "Cra 10b #54 - 103"
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Devuelve un mensaje de confirmación indicando que el pedido fue editado correctamente del sistema.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "mensaje": "Pedido actualizado exitosamente"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Error de validación de datos",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "mensaje": "Datos inválidos en la solicitud"
                  }
                }
              }
            }
          },
          "404": {
            "description": "No existe el recurso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "clienteNoExiste": {
                      "summary": "No existe el recurso cliente",
                      "value": { "mensaje": "El cliente no existe" }
                  },
                  "usuarioNoExiste": {
                    "summary": "No existe el recurso usuario",
                    "value": { "mensaje": "El usuario no existe" }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error del servidor",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "errorGenerico": {
                      "summary": "Error inesperado",
                      "value": { "mensaje": "Error interno del servidor" }
                    },
                    "errorBaseDatos": {
                      "summary": "Error de conexión",
                      "value": { "mensaje": "Error al actualizar pedido" }
                    }
                  }
                }
              }
            }
          }
        }
      },

      "delete": {
        "tags":["Pedidos"],
        "summary": "Eliminar un pedido por referencia",
        "description":"Este endpoint permite eliminar un pedido del sistema utilizando su identificador único (ref). Si la referencia proporcionada es válida y corresponde a un pedido existente, se eliminará de forma permanente.",
        "parameters": [
          {
            "name": "ref",
            "in": "path",
            "required": true,
            "schema": { "type": "string" }
          }
        ],
        "responses": {
          "200": {
            "description": "Devuelve un mensaje de confirmación indicando que el pedido fue eliminado correctamente del sistema.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "mensaje": "Pedido eliminado exitosamente"
                  }
                }
              }
            }
          },
          "404": {
            "description": "No existe el recurso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "mensaje": "El pedido no existe"
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error del servidor",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "errorGenerico": {
                      "summary": "Error inesperado",
                      "value": { "mensaje": "Error interno del servidor" }
                    },
                    "errorBaseDatos": {
                      "summary": "Error de conexión",
                      "value": { "mensaje": "Error al eliminar pedido" }
                    }
                  }
                }
              }
            }
          }
        }
      }     
    },
    "/pedidos/pendientes": {
      "get": {
        "tags":["Pedidos"],
        "summary": "Listar todos los pedidos pendientes",
        "description":"Este endpoint permite obtener un listado completo de los pedidos registrados como pendientes en el sistema. La respuesta incluye información básica como nombre_cliente, estado_pedido, total, direccion_entrega, hora_pedido y referencia de cada pedido pendiente.",
        "responses": {
          "200": {
            "description": "Respuesta exitosa que contiene la lista de pedidos pendientes.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "referencia": { "type": "string" },
                      "nombre_cliente": { "type": "string" },
                      "estado_pedido": { "type": "string" },
                      "direccion_entrega": { "type": "string" },
                      "hora_pedido": { "type": "string" },
                      "total": { "type": "float" }
                    },
                    "example": 
                      {
                        "referencia": "4a0s65ba-83b9-45b8-b37d-bbe5b45b93753",
                        "nombre_cliente": "5m0k53ba-83b9-45b8-b37d-bbe5b45b98461",
                        "estado_pedido": "pendiente",
                        "direccion_entrega": "Cra 10b #54 - 103",
                        "hora_pedido": "2025-12-18 17:30:28",
                        "total": 35500
                    }                      
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error del servidor",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "mensaje": "Error interno del servidor"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/detalles/pedidos": {
      "get": {
        "tags":["Detalles"],
        "summary": "Listar todos los detalles de pedidos",
        "description":"Este endpoint permite obtener un listado completo de los detalles de pedidos registrados en el sistema. La respuesta incluye información básica como cantidad, precio_unitario, subtotal, ref_pedido, ref_producto y referencia de cada detalle de los pedidos.",
        "responses": {
          "200": {
            "description": "Respuesta exitosa que contiene la lista de los detalles de pedidos.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "cantidad": { "type": "integer" },
                      "precio_unitario": { "type": "float" },
                      "subtotal": { "type": "float" },
                      "ref_pedido": { "type": "string" },
                      "ref_producto": { "type": "string" },
                      "referencia": { "type": "string" }
                    },
                    "example": 
                      {
                        "cantidad": 4,
                        "precio_unitario": 6500,
                        "subtotal": 26000,
                        "ref_pedido": "2f8b43ba-83b9-45b8-b37d-bbe5b45b28647",
                        "ref_producto": "7g4v43ba-83b9-45b8-b37d-bbe5b45b09283",
                        "referencia": "1b0m83ba-83b9-45b8-b37d-bbe5b45b8476"
                    }                      
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error del servidor",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "mensaje": "Error interno del servidor"
                  }
                }
              }
            }
          }
        }
      },

      "post": {
        "tags":["Detalles"],
        "summary": "Registrar unos nuevos detalles de pedido",
        "description": "Este endpoint permite registrar unos nuevos detalles de pedido en el sistema. Requiere enviar un objeto JSON con los datos de los detalles del pedido como cantidad, precio_unitario, ref_pedido, ref_producto.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["cantidad", "precio_unitario", "ref_pedido", "ref_producto"],
                "properties": {
                  "cantidad": { "type": "integer" },
                  "precio_unitario": { "type": "float" },
                  "ref_pedido": { "type": "string" },
                  "ref_producto": { "type": "string" }
                },
                "example": 
                  {
                    "cantidad": 4,
                    "precio_unitario": 6500,
                    "ref_pedido": "2f8b43ba-83b9-45b8-b37d-bbe5b45b28647",
                    "ref_producto": "7g4v43ba-83b9-45b8-b37d-bbe5b45b09283"
                }  
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Devuelve un mensaje de confirmación indicando que el detalle pedido fue registrado correctamente.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "mensaje": "detalle_pedido registrado exitosamente"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Error de validación de datos",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "mensaje": "Datos inválidos en la solicitud"
                  }
                }
              }
            }
          },
          "404": {
            "description": "No existe el recurso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "pedidoNoExiste": {
                      "summary": "No existe el recurso pedido",
                      "value": { "mensaje": "El pedido no existe" }
                  },
                  "productoNoExiste": {
                    "summary": "No existe el recurso producto",
                    "value": { "mensaje": "El producto no existe" }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error del servidor",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "errorGenerico": {
                      "summary": "Error inesperado",
                      "value": { "mensaje": "Error interno del servidor" }
                    },
                    "errorBaseDatos": {
                      "summary": "Error de conexión",
                      "value": { "mensaje": "Error al registrar detalle_pedido" }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/detalles/pedidos/{ref}": {
      "put": {
        "tags":["Detalles"],
        "summary": "Editar detalle pedido existente",
        "parameters": [
          {
            "name": "ref",
            "in": "path",
            "required": true,
            "schema": { "type": "string" }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["cantidad", "precio_unitario", "ref_pedido", "ref_producto"],
                "properties": {
                  "cantidad": { "type": "integer" },
                  "precio_unitario": { "type": "float" },
                  "ref_pedido": { "type": "string" },
                  "ref_producto": { "type": "string" }
                },
                "example": 
                  {
                    "cantidad": 4,
                    "precio_unitario": 6500,
                    "ref_pedido": "2f8b43ba-83b9-45b8-b37d-bbe5b45b28647",
                    "ref_producto": "7g4v43ba-83b9-45b8-b37d-bbe5b45b09283"
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Devuelve un mensaje de confirmación indicando que el detalle pedido fue editado correctamente del sistema.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "mensaje": "detalle_pedido actualizado exitosamente"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Error de validación de datos",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "mensaje": "Datos inválidos en la solicitud"
                  }
                }
              }
            }
          },
          "404": {
            "description": "No existe el recurso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "pedidoNoExiste": {
                      "summary": "No existe el recurso pedido",
                      "value": { "mensaje": "El pedido no existe" }
                  },
                  "productoNoExiste": {
                    "summary": "No existe el recurso producto",
                    "value": { "mensaje": "El producto no existe" }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error del servidor",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "errorGenerico": {
                      "summary": "Error inesperado",
                      "value": { "mensaje": "Error interno del servidor" }
                    },
                    "errorBaseDatos": {
                      "summary": "Error de conexión",
                      "value": { "mensaje": "Error al actualizar detalle_pedido" }
                    }
                  }
                }
              }
            }
          }
        }
      },

      "delete": {
        "tags":["Detalles"],
        "summary": "Eliminar un detalle pedido por referencia",
        "description":"Este endpoint permite eliminar un detalle pedido del sistema utilizando su identificador único (ref). Si la referencia proporcionada es válida y corresponde a un detalle pedido existente, se eliminará de forma permanente.",
        "parameters": [
          {
            "name": "ref",
            "in": "path",
            "required": true,
            "schema": { "type": "string" }
          }
        ],
        "responses": {
          "200": {
            "description": "Devuelve un mensaje de confirmación indicando que el detalle pedido fue eliminado correctamente del sistema.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "mensaje": "detalle_pedido eliminado exitosamente"
                  }
                }
              }
            }
          },
          "404": {
            "description": "No existe el recurso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "mensaje": "El detalle_pedido no existe"
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error del servidor",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "errorGenerico": {
                      "summary": "Error inesperado",
                      "value": { "mensaje": "Error interno del servidor" }
                    },
                    "errorBaseDatos": {
                      "summary": "Error de conexión",
                      "value": { "mensaje": "Error al eliminar detalle_pedido" }
                    }
                  }
                }
              }
            }
          }
        }
      }     
    },
    "/facturas": {
      "get": {
        "tags":["Facturas"],
        "summary": "Listar todas las facturas",
        "description":"Este endpoint permite obtener un listado completo de las facturas registradas en el sistema. La respuesta incluye información básica como ref_pedido, numero_factura, total, estado, fecha_emision y referencia de cada factura.",
        "responses": {
          "200": {
            "description": "Respuesta exitosa que contiene la lista de facturas.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "ref_pedido": { "type": "string" },
                      "numero_factura": { "type": "string" },
                      "estado": { "type": "string" },
                      "total": { "type": "float" },
                      "fecha_emision": { "type": "string" },
                      "referencia": { "type": "string" }
                    },
                    "example": 
                      {
                        "ref_pedido": "2f8b43ba-83b9-45b8-b37d-bbe5b45b28647",
                        "numero_factura": "FAC-20260117-b93e7637",
                        "estado": "emitida",
                        "total": 8700,
                        "fecha_emision": "2025-12-18 17:30:28",
                        "referencia": "1b0m83ba-83b9-45b8-b37d-bbe5b45b8476"
                    }                      
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error del servidor",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "mensaje": "Error interno del servidor"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/facturas/{ref}": {
      "post": {
        "tags":["Facturas"],
        "summary": "Registrar una nueva factura",
        "description": "Este endpoint permite registrar una nueva factura en el sistema. Requiere enviar un objeto JSON con los datos de la factura como ref_pedido, numero_factura, total, estado.",
        "parameters": [
          {
            "name": "ref",
            "in": "path",
            "required": true,
            "description": "referencia del pedido sobre el cual se generará la factura",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "tipo",
            "in": "query",
            "required": false,
            "description": "Indica el tipo de venta (true = presencial, false = domicilio)",
            "schema": {
              "type": "boolean",
              "default": false
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Devuelve un mensaje de confirmación indicando que la factura fue registrada correctamente.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "mensaje": "Factura registrada",
                    "Factura": {
                        "ref_pedido": "2f8b43ba-83b9-45b8-b37d-bbe5b45b28647",
                        "numero_factura": "FAC-20260117-b93e7637",
                        "estado": "emitida",
                        "total": 8700,
                        "fecha_emision": "2025-12-18 17:30:28",
                        "referencia": "1b0m83ba-83b9-45b8-b37d-bbe5b45b8476"
                    } 
                  }
                }
              }
            }
          },
          "404": {
            "description": "No existe el recurso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "mensaje": "Error no existe el pedido"
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error del servidor",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "mensaje": "Error interno del servidor"
                  }
                }
              }
            }
          }
        }
      },

      "put": {
        "tags":["Facturas"],
        "summary": "Editar factura existente",
        "parameters": [
          {
            "name": "ref",
            "in": "path",
            "required": true,
            "schema": { "type": "string" }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["ref_pedido", "numero_factura", "estado", "total"],
                "properties": {
                  "ref_pedido": { "type": "string" },
                  "numero_factura": { "type": "string" },
                  "estado": { "type": "string" },
                  "total": { "type": "float" }
                },
                "example": 
                  {
                    "ref_pedido": "",
                    "numero_factura": "FAC-20260117-b93e7637",
                    "estado": "pagada",
                    "total": 50000
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Devuelve un mensaje de confirmación indicando que la factura fue editada correctamente del sistema.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "mensaje": "Factura actualizada exitosamente"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Error de validación de datos",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "mensaje": "Datos inválidos en la solicitud"
                  }
                }
              }
            }
          },
          "404": {
            "description": "No existe el recurso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "mensaje": "Error no existe el pedido"
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error del servidor",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "errorGenerico": {
                      "summary": "Error inesperado",
                      "value": { "mensaje": "Error interno del servidor" }
                    },
                    "errorBaseDatos": {
                      "summary": "Error de conexión",
                      "value": { "mensaje": "Error al actualizar factura" }
                    }
                  }
                }
              }
            }
          }
        }
      },

      "delete": {
        "tags":["Facturas"],
        "summary": "Eliminar una factura por referencia",
        "description":"Este endpoint permite eliminar una factura del sistema utilizando su identificador único (ref). Si la referencia proporcionada es válida y corresponde a una factura existente, se eliminará de forma permanente.",
        "parameters": [
          {
            "name": "ref",
            "in": "path",
            "required": true,
            "schema": { "type": "string" }
          }
        ],
        "responses": {
          "200": {
            "description": "Devuelve un mensaje de confirmación indicando que la factura fue eliminada correctamente del sistema.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "mensaje": "Factura eliminada exitosamente"
                  }
                }
              }
            }
          },
          "404": {
            "description": "No existe el recurso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "mensaje": "La factura no existe"
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error del servidor",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "errorGenerico": {
                      "summary": "Error inesperado",
                      "value": { "mensaje": "Error interno del servidor" }
                    },
                    "errorBaseDatos": {
                      "summary": "Error de conexión",
                      "value": { "mensaje": "Error al eliminar la factura" }
                    }
                  }
                }
              }
            }
          }
        }
      }     
    },
    "/usuarios": {
      "get": {
        "security": [
          { "BearerAuth": [] }
        ],
        "tags":["Usuarios"],
        "summary": "Listar todos los usuarios",
        "description":"Este endpoint permite obtener un listado completo de los usuarios registrados en el sistema. La respuesta incluye información básica como nombre, username, password_hash, rol, ultimo_acceso y referencia de cada usuario.",
        "responses": {
          "200": {
            "description": "Respuesta exitosa que contiene la lista de usuarios.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "nombre": { "type": "string" },
                      "username": { "type": "string" },
                      "password_hash": { "type": "string" },
                      "rol": { "type": "string" },
                      "ultimo_acceso": { "type": "string" },
                      "referencia": { "type": "string" }
                    },
                    "example": 
                      {
                        "producto_id": "Juan",
                        "username": "JuanADMINISTRADOR",
                        "password_hash": "A123-AU2U3$ja",
                        "rol": "Administrador",
                        "ultimo_acceso": "2025-12-18 17:30:28",
                        "referencia": "8e2i11fa-83b9-45b8-b37d-bbe5b45b8564"
                    }                      
                  }
                }
              }
            }
          },
          "401": {
            "description": "Error no autorizado",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "tokenNoValido": {
                      "summary": "Error token no válido",
                      "value": { "mensaje": "Token inválido" }
                    },
                    "tokenExpirado": {
                      "summary": "Error de conexión",
                      "value": { "mensaje": "Token expirado" }
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "No autorizado",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "mensaje": "Acceso denegado"
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error del servidor",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "mensaje": "Error interno del servidor"
                  }
                }
              }
            }
          }
        }
      },

      "post": {
        "tags":["Usuarios"],
        "summary": "Registrar un nuevo usuario",
        "description": "Este endpoint permite registrar un nuevo usuario en el sistema. Requiere enviar un objeto JSON con los datos del usuario como nombre, username, password_hash y rol.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["nombre", "username", "password_hash", "rol"],
                "properties": {
                  "nombre": { "type": "string" },
                  "username": { "type": "string" },
                  "password_hash": { "type": "string" },
                  "rol": { "type": "string" }
                },
                "example": 
                  {
                    "nombre": "Juan",
                    "username": "JuanADMINISTRADOR",
                    "password_hash": "A123-AU2U3$ja",
                    "rol": "Administrador"
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Devuelve un mensaje de confirmación indicando que el usuario fue registrado correctamente.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "mensaje": "Usuario registrado exitosamente"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Error de validación de datos",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "mensaje": "Datos inválidos en la solicitud"
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error del servidor",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "errorGenerico": {
                      "summary": "Error inesperado",
                      "value": { "mensaje": "Error interno del servidor" }
                    },
                    "errorBaseDatos": {
                      "summary": "Error de conexión",
                      "value": { "mensaje": "Error al registrar usuario" }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/usuarios/{ref}": {
      "put": {
        "tags":["Usuarios"],
        "summary": "Editar usuario existente",
        "parameters": [
          {
            "name": "ref",
            "in": "path",
            "required": true,
            "schema": { "type": "string" }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["nombre", "username", "password_hash", "rol"],
                "properties": {
                  "nombre": { "type": "string" },
                  "username": { "type": "string" },
                  "password_hash": { "type": "string" },
                  "rol": { "type": "string" }
                },
                "example": 
                  {
                    "nombre": "Juan",
                    "username": "JuanADMINISTRADOR",
                    "password_hash": "A123-AU2U3$ja",
                    "rol": "Administrador"
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Devuelve un mensaje de confirmación indicando que el usuario fue editado correctamente del sistema.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "mensaje": "Usuario actualizado exitosamente"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Error de validación de datos",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "mensaje": "Datos inválidos en la solicitud"
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error del servidor",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "errorGenerico": {
                      "summary": "Error inesperado",
                      "value": { "mensaje": "Error interno del servidor" }
                    },
                    "errorBaseDatos": {
                      "summary": "Error de conexión",
                      "value": { "mensaje": "Error al actualizar usuario" }
                    }
                  }
                }
              }
            }
          }
        }
      },

      "delete": {
        "tags":["Usuarios"],
        "summary": "Eliminar un usuario por referencia",
        "description":"Este endpoint permite eliminar un usuario del sistema utilizando su identificador único (ref). Si la referencia proporcionada es válida y corresponde a un usuario existente, se eliminará de forma permanente.",
        "parameters": [
          {
            "name": "ref",
            "in": "path",
            "required": true,
            "schema": { "type": "string" }
          }
        ],
        "responses": {
          "200": {
            "description": "Devuelve un mensaje de confirmación indicando que el usuario fue eliminado correctamente del sistema.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "mensaje": "Usuario eliminado exitosamente"
                  }
                }
              }
            }
          },
          "404": {
            "description": "No existe el recurso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "mensaje": "El pedido no existe"
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error del servidor",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "errorGenerico": {
                      "summary": "Error inesperado",
                      "value": { "mensaje": "Error interno del servidor" }
                    },
                    "errorBaseDatos": {
                      "summary": "Error de conexión",
                      "value": { "mensaje": "Error al eliminar usuario" }
                    }
                  }
                }
              }
            }
          }
        }
      }     
    },
    "/usuarios/{user}/pedidos": {
      "get": {
        "tags":["Usuarios"],
        "summary": "Lista el usuario con el número de pedidos registrados",
        "parameters": [
          {
            "name": "usuario",
            "in": "path",
            "required": true,
            "schema": { "type": "string" }
          }
        ],
        "description":"Este endpoint permite obtener un listado del número de pedidos registrados por el usuario buscado en el sistema. La respuesta incluye información básica como nombre del usuario y el número de pedidos registrados por el usuario.",
        "responses": {
          "200": {
            "description": "Respuesta exitosa que contiene el usuario buscado.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "mensaje": { "type": "string" },
                      "pedidos_por_usuario": { "type": "string" }
                    },
                    "example": 
                      {
                      "mensaje": "Usuario encontrado exitosamente",
                      "pedidos_por_usuario": {
                          "nombre_de_usuario": "Cristian",
                          "pedidos_por_usuario": 7
                      }
                    }                      
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error del servidor",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "mensaje": "Error interno del servidor"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/auth/login": {
      "post": {
        "tags": ["Autenticación"],
        "summary": "Iniciar sesión",
        "description": "Este endpoint permite iniciar sesión al usuario. Requiere enviar un objeto JSON con los datos del usuario como usuario y contraseña",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["usuario", "contraseña"],
                "properties": {
                  "usuario": { "type": "string" },
                  "contraseña": { "type": "string" }
                },
                "example": 
                  {
                    "usuario": "JuanADMINISTRADOR",
                    "contraseña": "1234567890"
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Devuelve el token generado correctamente",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "token": { "type": "string" },
                    "rol": { "type": "string" }
                  },
                  "example": {
                    "mensaje": "Token generado",
                    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1dWlkIjoiMDc5NTM3YTItYTBlMS00MWRiLWI2MmYtMGI4ZjljMTBlNjM5Iiwicm9sIjoiVGVuZGVybyIsImV4cCI6MTc2NzczNDExNH0.Cpo2YZNtyV8VS5mpZYZ1tFn2s2rm-86LwMo7Hk8hwqU"
                  }
                }
              }
            }
          },
          "401": {
            "description": "El usuario no esta autenticado",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "mensaje": "Credenciales inválidas"
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error del servidor",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "mensaje": "Error interno del servidor"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/reportes/clientes/mas-pedidos": {
      "get": {
        "tags":["Reportes"],
        "summary": "Lista por defecto los 5 clientes con más pedidos",
        "description":"Este endpoint permite obtener un listado por defecto de los 5 clientes con más pedidos en el sistema. La respuesta incluye información básica como nombre_reporte y resultado.",
        "parameters":[
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "description": "Indica el número de resultados",
            "schema": {
              "type": "integer",
              "default": 5
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Respuesta exitosa que contiene la lista de los clientes con más pedidos.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "nombre_reporte": { "type": "string" },
                      "resultado": { "type": "array" }
                    },
                    "example": 
                      {
                        "nombre_reporte": "clientes_con_mas_pedidos",
                        "resultado": [
                          {
                          "cliente": "Hugo",
                          "numero_pedidos": 10
                          },
                          {
                          "cliente": "José",
                          "numero_pedidos": 8
                          },
                          {
                          "cliente": "Juan",
                          "numero_pedidos": 7
                          },
                          {
                          "cliente": "Carlos",
                          "numero_pedidos": 3
                          },
                          {
                          "cliente": "Mario",
                          "numero_pedidos": 1
                          }
                      ]
                    }                      
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error del servidor",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "mensaje": "Error interno del servidor"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/reportes/usuarios/mas-pedidos-registrados": {
      "get": {
        "tags":["Reportes"],
        "summary": "Lista por defecto los 5 usuarios con más pedidos registrados",
        "description":"Este endpoint permite obtener un listado por defecto de los 5 usuarios con más pedidos registrados en el sistema. La respuesta incluye información básica como nombre_reporte y resultado.",
        "parameters":[
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "description": "Indica el número de resultados",
            "schema": {
              "type": "integer",
              "default": 5
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Respuesta exitosa que contiene la lista de los usuarios con más pedidos registrados.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "nombre_reporte": { "type": "string" },
                      "resultado": { "type": "array" }
                    },
                    "example": 
                      {
                        "nombre_reporte": "usuarios_con_mas_pedidos_registrados",
                        "resultado": [
                          {
                          "registro_pedidos": 12,
                          "usuario": "Juan"
                          },
                          {
                          "registro_pedidos": 9,
                          "usuario": "Victor"
                          },
                          {
                          "registro_pedidos": 7,
                          "usuario": "Manolo"
                          },
                          {
                          "registro_pedidos": 4,
                          "usuario": "Duvan"
                          },
                          {
                          "registro_pedidos": 2,
                          "usuario": "Pedro"
                          }
                      ]
                    }                      
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error del servidor",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "mensaje": "Error interno del servidor"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/reportes/productos/mas-vendidos": {
      "get": {
        "tags":["Reportes"],
        "summary": "Lista por defecto el producto más vendido registrado",
        "description":"Este endpoint permite obtener un listado por defecto el producto más vendido registrado en el sistema. La respuesta incluye información básica como nombre_reporte y resultado.",
        "parameters":[
          {
            "name": "desde",
            "in": "query",
            "required": false,
            "description": "Indica desde que fecha trae los datos",
            "schema": {
              "type": "date-time"
            }
          },
          {
            "name": "hasta",
            "in": "query",
            "required": false,
            "description": "Indica hasta que fecha trae los datos",
            "schema": {
              "type": "date-time"
            }
          },
          {
            "name": "limite",
            "in": "query",
            "required": false,
            "description": "Indica el número de resultados",
            "schema": {
              "type": "integer",
              "default": 1
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Respuesta exitosa que contiene la lista del producto más vendido registrado.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "Productos_mas_vendidos": {
                      "nombre_reporte": { "type": "string" },
                      "resultado": { "type": "array" }
                      },
                      "mensaje": { "type": "string" }
                    },
                    "example": 
                      { 
                        "Productos_mas_vendidos": {
                          "nombre_reporte": "productos_mas_vendidos",
                          "resultado": [
                            {
                            "id": "d341e97c-de10-4baa-9fcd-d632b303f0ad",
                            "producto": "Arroz",
                            "total_vendido": 14
                            }
                      ] },
                        "mensaje": "Producto encontrado exitosamente"
                    }                      
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error del servidor",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "mensaje": "Error interno del servidor"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/reportes/pedidos/por-fecha": {
      "get": {
        "tags":["Reportes"],
        "summary": "Lista de pedidos según el tipo por fecha especificada",
        "description":"Este endpoint permite obtener un listado de pedidos según el tipo por fecha especificada en el sistema. La respuesta incluye información básica como nombre_reporte y resultado.",
        "parameters":[
          {
            "name": "desde",
            "in": "query",
            "required": false,
            "description": "Indica desde que fecha trae los datos",
            "schema": {
              "type": "date-time"
            }
          },
          {
            "name": "hasta",
            "in": "query",
            "required": false,
            "description": "Indica hasta que fecha trae los datos",
            "schema": {
              "type": "date-time"
            }
          },
          {
            "name": "estado",
            "in": "query",
            "required": false,
            "description": "Indica el estado de los pedidos",
            "schema": {
              "type": "string",
              "enum": ["pendiente", "entregado", "cancelado"],
              "default": "entregado"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Respuesta exitosa que contiene la lista de pedidos según el tipo por fecha especificada.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "Productos_mas_vendidos": { 
                      "nombre_reporte": { "type": "string" },
                      "resultado": { "type": "array" }
                      },
                      "mensaje": { "type": "string" }
                    },
                    "example": 
                      { 
                        "Pedidos": {
                          "nombre_reporte": "pedidos_por_fecha",
                          "resultado": [
                            {
                            "cantidad_pedidos": 4
                            }
                      ] },
                      "mensaje": "Pedidos encontrado exitosamente"
                    }                      
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error del servidor",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "mensaje": "Error interno del servidor"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/reportes/productos/mas-ganancias": {
      "get": {
        "tags":["Reportes"],
        "summary": "Lista por defecto el producto con más ganancia registrado",
        "description":"Este endpoint permite obtener un listado por defecto el producto con más ganancia registrado en el sistema. La respuesta incluye información básica como nombre_reporte y resultado.",
        "parameters":[
          {
            "name": "desde",
            "in": "query",
            "required": false,
            "description": "Indica desde que fecha trae los datos",
            "schema": {
              "type": "date-time"
            }
          },
          {
            "name": "hasta",
            "in": "query",
            "required": false,
            "description": "Indica hasta que fecha trae los datos",
            "schema": {
              "type": "date-time"
            }
          },
          {
            "name": "limite",
            "in": "query",
            "required": false,
            "description": "Indica el número de resultados",
            "schema": {
              "type": "integer",
              "default": 1
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Respuesta exitosa que contiene la lista del producto con más ganancia registrado.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "Producto con más ganancias": {
                      "nombre_reporte": { "type": "string" },
                      "resultado": { "type": "array" }
                      },
                      "mensaje": { "type": "string" }
                    },
                    "example": 
                      { 
                        "Productos_mas_vendidos": {
                          "nombre_reporte": "producto_con_mas_ganancia",
                          "resultado": [
                            {
                            "id": "d341e97c-de10-4baa-9fcd-d632b303f0ad",
                            "producto": "Arroz",
                            "total_ganado": 150000.00
                            }
                      ] },
                        "mensaje": "Producto encontrado exitosamente"
                    }                      
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error del servidor",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "mensaje": "Error interno del servidor"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/reportes/facturas/ingresos": {
      "get": {
        "tags":["Reportes"],
        "summary": "Lista por defecto los ingresos de ventas por mes mediante las facturas emitidas",
        "description":"Este endpoint permite obtener un listado por defecto los ingresos de ventas por mes mediante las facturas emitidas registradas en el sistema. La respuesta incluye información básica como nombre_reporte y resultado.",
        "parameters":[
          {
            "name": "desde",
            "in": "query",
            "required": false,
            "description": "Indica desde que fecha trae los datos",
            "schema": {
              "type": "date-time"
            }
          },
          {
            "name": "hasta",
            "in": "query",
            "required": false,
            "description": "Indica hasta que fecha trae los datos",
            "schema": {
              "type": "date-time"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Respuesta exitosa que contiene la lista de los ingresos de ventas registrados.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "Producto con más ganancias": {
                      "nombre_reporte": { "type": "string" },
                      "resultado": { "type": "array" }
                      },
                      "mensaje": { "type": "string" }
                    },
                    "example": 
                      { 
                        "Ingresos de ventas": {
                          "nombre_reporte": "ingresos_de_ventas",
                          "resultado": [
                            {
                            "ingresos_generados": 130600.00
                            }
                      ] },
                        "mensaje": "Ingresos listados exitosamente"
                    }                      
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error del servidor",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mensaje": { "type": "string" }
                  },
                  "example": {
                    "mensaje": "Error interno del servidor"
                  }
                }
              }
            }
          }
        }
      }
    }
  }
}